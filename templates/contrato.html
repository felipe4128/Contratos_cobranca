{% extends 'base.html' %}
{% block title %}Ver Contrato{% endblock %}
{% block body %}
<div class="container mt-4">
  <h2>Contrato #{{ contrato.numero }}</h2>
  <form method="post">
    <div class="mb-3">
      <label class="form-label">CPF</label>
      <input type="text" class="form-control" name="cpf" value="{{ contrato.cpf }}">
    </div>
    <!-- demais campos iguais ao form de novo, mas já preenchidos -->
    <button class="btn btn-success">Salvar Alterações</button>
  </form>
  <hr>
  <h4>Parcelas</h4>
  <ul class="list-group">
  {% for p in parcelas %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      Parcela {{ p.numero }} — R$ {{ "{:,.2f}".format(p.valor) }}
      {% if not p.quitada %}
        <form method="post" action="{{ url_for('quitar_parcela', id=p.id) }}">
          <button class="btn btn-sm btn-outline-primary">Quitar</button>
        </form>
      {% else %}
        <span class="badge bg-success">Quitada</span>
      {% endif %}
    </li>
  {% endfor %}
  </ul>
</div>
{% endblock %}

